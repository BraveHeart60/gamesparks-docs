---
src: /Tutorials/Social Features/Creating a Leaderboard.md
---

# How to create and use a Leaderboard

In this exercise we create an Event with which to log player scores, then create a high score table using Leaderboards, and then test the configuration via the Test Harness.

## Create an Event

In this section we will use the Configurator to create an event that will allow your game code to post player scores into the GameSparks platform and have the platform store the highest score for each player. Go to Configurator/Events and click the plus icon to bring up the Create Event dialog.

![](img/CreateUseLDR/1.png)

Now fill in the event's details and click the plus icon to access the event's attributes.

![](img/CreateUseLDR/2.png)

Now fill in the event attribute details and click the Save button. The Name is the name of the attribute rather than the event, remembering that one event can have several attributes. The Short Code that you specify will be used as the key for the score that you post into the platform from your game code. Set the Data Type to Number in the case of a high score table because the incoming scores are integers and we want to be able to sort them into numerical order. In the case of a high score table we want to track the highest score posted by each of the game's players hence for Default Calc we choose the option 'Maximum'. This will result in one record per player been stored in the GameSparks platform and that record will contain the player's highest score. It's fine to leave Default Value blank.

![](img/CreateUseLDR/3.png)

## Create a Leaderboard

In this section we will create a Leaderboard which arranges all the players' scores in order from highest to lowest. Start by going to Configurator/Leaderboards and clicking the plus icon to bring up the Create Leaderboard dialog. Don't click the 'Quick Create' button - that's an advanced feature.

![](img/CreateUseLDR/4.png)

Now fill in the Leaderboard details and click the Save button. Name and description are self-explanatory. The short code will be used when your game code posts scores in to the GameSparks platform. Set the Update Frequency to 'Real-time' and leave the other options off for now (they are advanced features that allow you to notify players when player positions in the Leaderboard changes). Then click the plus icon as indicated below to add fields to the Leaderboard.

![](img/CreateUseLDR/5.png)

Now fill in the field details. The Running Total and Summary fields will default to the attributes you created for the event above (or if you have already created other events you can select 'Score Event' and 'Score attribute' respectively from the drop downs). Note that Running Totals are an advanced topic that we don't need to worry about for this exercise. The FilterType is set to '\*' (wildcard) so that all values are included. The Filter Value is not relevant in this exercise. Finally the Sort field is set to DESC (descending) to order the Leaderboard from highest player score to lowest. Click save.

![](img/CreateUseLDR/6.png)

## Testing the High Score Leaderboard and Event with the Test Harness

In this section we will use the Test Harness to register some test players with the preview version of the game, authorise these players and post a score to the Leaderboard for each one. We will see the JSON requests and responses as well as asynchronous messages generated by the platform. We will then query the Leaderboard data in various ways.

### Register test players

Go to the Test Harness section and select RegistrationRequest from the Authentication menu and change the userName and displayName as shown below.

![](img/CreateUseLDR/7.png)

To send this JSON request to the GameSparks platform press the Play icon.

![](img/CreateUseLDR/8.png)

The Inspector shows the request (in green text) that was sent sent to the GameSparks platform via the WebSocket and the response (in blue text).

![](img/CreateUseLDR/9.png)

Repeat the registration step for four additional users.

### Authentication Test Player

Now authorise Player1. Select the AuthenticationRequest from the Authentication menu and change the userName to 'Player1' as shown below. Press the Play icon to send the request.

![](img/CreateUseLDR/10.png)

### Post a score to the Leaderboard

To log a score for Player1, select SCORE_EVT from the LogEvent menu - this is the event you created above. Notice that the short code of the event attribute that we chose earlier, SCORE_ATTR, has been inserted as one of the keys in the JSON request. Change the value to 100 as shown and press the play icon. This will register a score of 100 for Player1.

![](img/CreateUseLDR/11.png)

Note that as well as the request and response shown in the Inspector that there is also an asynchronous NewHighScoreMessage message (in orange text). This message includes the score posted as well as the global rank details. Every time a player beats their previous best they will receive a message of this type. If Player1 logs another score that is 10 or less they will not receive a NewHighScoreMessage. Now repeat the authorisation and log event step for the other four users that you registered. Use an increasing score for each user, e.g. 200 for Player2, 300 for Player3 etc.

### Retrieve Leaderboard Data

To view the Leaderboard select LeaderBoardDataRequest from the Leaderboards menu. Change the leaderboardShortCode in the JSON request to HIGH_SCORE_LB, which is the short code that you used when you created the Leaderboard. Then click the Play icon. The response message can be seen in the Inspector and should contain entries for all five users that you logged score events for in the previous steps along with their ranks.

![](img/CreateUseLDR/12.png)

To control the number of entries returned by the LeaderBoardDataRequest set the entryCount field to the required value. Also to view a different part of the Leaderboard set the offset field. The offset is relative to the current authorised player's position in the Leaderboard.

![](img/CreateUseLDR/13.png)

If the current authorised player was linked to their Facebook account in the GameSparks platform and they had friends who had logged scores in this game then setting the social field value to true would return Leaderboard data containing just the player and player's friends. Now authenticate Player3.

![](img/CreateUseLDR/14.png)

### Getting Players "Around Me"

Authenticate Player3 (go to Authentication/AuthenticationRequest and then change the userName in the JSON request to "Player3"). Next select the AroundMeLeaderboardRequest on the Leaderboards menu. In the JSON request set the count field to 1 to show the Leaderboard entries either side of Player3 (the currently authorised player). Notice that the player's rank and score are included in the response.

![](img/CreateUseLDR/15.png)

If you were to authenticate Player1 and repeat the AroundMeLeaderboardRequest the response would only include two entries. This is because Player1 is at the bottom of the Leaderboard so only the player one rank higher than Player1 is shown.
